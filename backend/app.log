2025-10-08 18:10:18,614 - __main__ - INFO - Starting AI-Powered Property Image Upload API...
2025-10-08 18:10:18,615 - __main__ - INFO - Features: Advanced Text Moderation + Advanced Image Moderation + Enhanced Fallback System
2025-10-08 18:10:18,636 - werkzeug - WARNING -  * Debugger is active!
2025-10-08 18:10:18,643 - werkzeug - INFO -  * Debugger PIN: 474-019-004
2025-10-08 18:13:06,590 - __main__ - INFO - Starting AI-Powered Property Image Upload API...
2025-10-08 18:13:06,590 - __main__ - INFO - Features: Advanced Text Moderation + Advanced Image Moderation + Enhanced Fallback System
2025-10-08 18:13:06,660 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.100.218:5000
2025-10-08 18:13:06,660 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-10-08 18:13:06,663 - werkzeug - INFO -  * Restarting with stat
2025-10-08 18:13:07,437 - __main__ - INFO - Starting AI-Powered Property Image Upload API...
2025-10-08 18:13:07,437 - __main__ - INFO - Features: Advanced Text Moderation + Advanced Image Moderation + Enhanced Fallback System
2025-10-08 18:13:07,463 - werkzeug - WARNING -  * Debugger is active!
2025-10-08 18:13:07,466 - werkzeug - INFO -  * Debugger PIN: 474-019-004
2025-10-08 18:13:11,864 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:13:11] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:13:12,108 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:13:12] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:13:14,473 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:13:14] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:13:14,731 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:13:14] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:13:25,982 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:13:25] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:13:26,232 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:13:26] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:13:32,148 - __main__ - INFO - Saved temporary file: uploads\temp_1.png, size: 5344786 bytes
2025-10-08 18:13:32,381 - utils.image_utils - INFO - Image validation passed: uploads\temp_1.png, dimensions: 1587x2245, blur: 91.44
2025-10-08 18:13:32,864 - utils.ai_moderator - INFO - Image encoded to base64: uploads\temp_1.png, size: 153972 bytes
2025-10-08 18:13:32,864 - utils.ai_moderator - INFO - Sending image moderation request
2025-10-08 18:13:34,230 - utils.ai_moderator - ERROR - AI API error: 400 - {"code":"Client specified an invalid argument","error":"Invalid request content: Image inputs are not supported by this model."}
2025-10-08 18:13:34,230 - utils.ai_moderator - INFO - Comprehensive moderation result: {'overall_safe': False, 'text_analysis': None, 'image_analysis': {'is_safe': False, 'risk_level': 'high', 'reasons': ['AI service error: 400'], 'categories_found': ['service_error'], 'moderation_advice': 'Manual review required', 'image_quality_issues': [], 'confidence': 0.0}, 'rejection_reasons': ['AI service error: 400', 'AI moderation inconclusive or low confidence'], 'risk_level': 'high', 'requires_manual_review': True, 'moderation_notes': 'Inconclusive AI analysis', 'confidence': 0.0}
2025-10-08 18:13:34,230 - __main__ - INFO - AI moderation inconclusive or failed, using fallback moderation
2025-10-08 18:13:35,605 - utils.image_utils - WARNING - OCR failed: tesseract is not installed or it's not in your PATH. See README file for more information.
2025-10-08 18:13:35,605 - utils.image_utils - INFO - Fallback moderation flagged: ['High skin tone ratio detected: 0.37']
2025-10-08 18:13:35,620 - __main__ - INFO - Moved to manual review: uploads\manual_review\1.png
2025-10-08 18:13:35,620 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:13:35] "[31m[1mPOST /api/upload HTTP/1.1[0m" 400 -
2025-10-08 18:13:57,991 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:13:57] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:13:58,241 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:13:58] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:14:03,116 - __main__ - INFO - Saved temporary file: uploads\temp_2.png, size: 4620447 bytes
2025-10-08 18:14:03,297 - utils.image_utils - INFO - Image validation passed: uploads\temp_2.png, dimensions: 1587x2245, blur: 130.58
2025-10-08 18:14:03,450 - utils.ai_moderator - INFO - Image encoded to base64: uploads\temp_2.png, size: 162028 bytes
2025-10-08 18:14:03,465 - utils.ai_moderator - INFO - Sending image moderation request
2025-10-08 18:14:04,095 - utils.ai_moderator - ERROR - AI API error: 400 - {"code":"Client specified an invalid argument","error":"Invalid request content: Image inputs are not supported by this model."}
2025-10-08 18:14:04,097 - utils.ai_moderator - INFO - Comprehensive moderation result: {'overall_safe': False, 'text_analysis': None, 'image_analysis': {'is_safe': False, 'risk_level': 'high', 'reasons': ['AI service error: 400'], 'categories_found': ['service_error'], 'moderation_advice': 'Manual review required', 'image_quality_issues': [], 'confidence': 0.0}, 'rejection_reasons': ['AI service error: 400', 'AI moderation inconclusive or low confidence'], 'risk_level': 'high', 'requires_manual_review': True, 'moderation_notes': 'Inconclusive AI analysis', 'confidence': 0.0}
2025-10-08 18:14:04,097 - __main__ - INFO - AI moderation inconclusive or failed, using fallback moderation
2025-10-08 18:14:05,240 - utils.image_utils - WARNING - OCR failed: tesseract is not installed or it's not in your PATH. See README file for more information.
2025-10-08 18:14:05,240 - utils.image_utils - INFO - Fallback moderation passed: uploads\temp_2.png
2025-10-08 18:14:05,242 - __main__ - INFO - Approved and moved to valid uploads: uploads\valid_uploads\2.png
2025-10-08 18:14:05,242 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:14:05] "POST /api/upload HTTP/1.1" 200 -
2025-10-08 18:14:05,558 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:14:05] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:14:54,116 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:14:54] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:14:54,414 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:14:54] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:15:17,154 - __main__ - INFO - Saved temporary file: uploads\temp_oie_s9VvHxyarrDM.png, size: 2073645 bytes
2025-10-08 18:15:17,237 - utils.image_utils - INFO - Image validation passed: uploads\temp_oie_s9VvHxyarrDM.png, dimensions: 1024x1024, blur: 2942.16
2025-10-08 18:15:17,365 - utils.ai_moderator - INFO - Image encoded to base64: uploads\temp_oie_s9VvHxyarrDM.png, size: 372320 bytes
2025-10-08 18:15:17,366 - utils.ai_moderator - INFO - Sending image moderation request
2025-10-08 18:15:17,949 - utils.ai_moderator - ERROR - AI API error: 400 - {"code":"Client specified an invalid argument","error":"Invalid request content: Image inputs are not supported by this model."}
2025-10-08 18:15:17,951 - utils.ai_moderator - INFO - Comprehensive moderation result: {'overall_safe': False, 'text_analysis': None, 'image_analysis': {'is_safe': False, 'risk_level': 'high', 'reasons': ['AI service error: 400'], 'categories_found': ['service_error'], 'moderation_advice': 'Manual review required', 'image_quality_issues': [], 'confidence': 0.0}, 'rejection_reasons': ['AI service error: 400', 'AI moderation inconclusive or low confidence'], 'risk_level': 'high', 'requires_manual_review': True, 'moderation_notes': 'Inconclusive AI analysis', 'confidence': 0.0}
2025-10-08 18:15:17,951 - __main__ - INFO - AI moderation inconclusive or failed, using fallback moderation
2025-10-08 18:15:18,557 - utils.image_utils - WARNING - OCR failed: tesseract is not installed or it's not in your PATH. See README file for more information.
2025-10-08 18:15:18,557 - utils.image_utils - INFO - Fallback moderation passed: uploads\temp_oie_s9VvHxyarrDM.png
2025-10-08 18:15:18,559 - __main__ - INFO - Approved and moved to valid uploads: uploads\valid_uploads\oie_s9VvHxyarrDM.png
2025-10-08 18:15:18,560 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:15:18] "POST /api/upload HTTP/1.1" 200 -
2025-10-08 18:15:18,872 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:15:18] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:15:27,068 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:15:27] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:15:27,383 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:15:27] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:15:27,630 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:15:27] "GET /api/stats HTTP/1.1" 200 -
2025-10-08 18:15:27,920 - werkzeug - INFO - 127.0.0.1 - - [08/Oct/2025 18:15:27] "GET /api/stats HTTP/1.1" 200 -
